<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </head>
  <style>
    a{
      text-decoration: none;
    }
  </style>
  <body>
    <h3><%= title %></h3>
    <p>Welcome to <%= title %></p>

  <a href="books"><button  class="btn-primary">Books</button></a>
  <a href="authors"><button class="btn-secondary">Authors</button></a>
  <a href="magazines"><button class="btn-danger" >Magazines</button></a>
    <!-- book -->
    <% if (data) { %>
    <h3>This is for book</h3>
    <table class="table table-striped">
      <thead>
        <tr><th>Title</th>
        <th>ISBN</th>
        <th>Authors</th>
        <th>Descritio</th>
      </tr></thead>
      <% for( let i = 0; i < data.length; i++ ) { %>
      <tr>
        <td data-label="Name"><%= data[i].title %></td>
        <td><%= data[i].isbn %></td>
        <td><%= data[i].authors %></td>
        <td><%= data[i].description %></td>
      </tr>
      <% } %>

      <form action="/add-book" method="post">
        <input type="text" name="title" placeholder="Title" />
        <input type="text" name="isbn" placeholder="ISBN" />
        <input type="text" name="authors" placeholder="Authors" />
        <input type="text" name="description" placeholder="Description" />
        <input type="submit" value="Add Book" />
      </form>
      <br></br>
      <form action="/filter-book" method="post" >
        SEARCH ISBN: <input type="text" name="isbn" placeholder="ISBN" />
        <input type="submit" value="Search" />
      </form>
      <br></br>
      <form action="/filter-email" method="post" >
        SEARCH EMAIL: <input type="text" name="email" placeholder="ISBN" />
        <input type="submit" value="Search" />
      </form>


    </table>
    <% } %>

    <!-- Magazines -->
    <% if (mg) { %>
    <h3>This is for Magazines</h3>
    <table class="table table-striped">
      <thead>
        <tr><th>Title</th>
        <th>ISBN</th>
        <th>Authors</th>
        <th>PublishedAt</th>
      </tr></thead>
      <% for( let i = 0; i < mg.length; i++ ) { %>
      <tr>
        <td><%= mg[i].title %></td>
        <td><%= mg[i].isbn %></td>
        <td><%= mg[i].authors %></td>
        <td><%= mg[i].publishedAt %></td>
      </tr>
      <% } %>

      <form action="/add-mg" method="post">
        <input type="text" name="title" placeholder="Title" />
        <input type="text" name="isbn" placeholder="ISBN" />
        <input type="text" name="authors" placeholder="Authors" />
        <input type="text" name="publishedAt" placeholder="PublishedAt" />
        <input type="submit" value="Add Magazines" />
      </form>
      <br></br>
      <form action="/filter-book" method="post" >
        SEARCH ISBN: <input type="text" name="isbn" placeholder="ISBN" />
        <input type="submit" value="Search" />
      </form>
      <br></br>
      <form action="/filter-email" method="post" >
        SEARCH EMAIL: <input type="text" name="email" placeholder="ISBN" />
        <input type="submit" value="Search" />
      </form>
    </table>
    <% } %>

    <!-- authors -->

    <% if (auth) { %>
    <h3>This is for Authors</h3>
    <table class="table table-striped">
      <thead>
        <tr><th>Email</th>
        <th>Firstname</th>
        <th>Lastname</th>
      </tr></thead>
      <% for( let i = 0; i < auth.length; i++ ) { %>
      <tr>
        <td><%= auth[i].email %></td>
        <td><%= auth[i].firstname %></td>
        <td><%= auth[i].lastname %></td>
      </tr>
      <% } %>

      <form action="/add-auth" method="post">
        <input type="text" name="email" placeholder="email" />
        <input type="text" name="firstname" placeholder="firstname" />
        <input type="text" name="lastname" placeholder="lastname" />
        <input type="submit" value="Add Authors" />
      </form>
    </table>
    <% } %>
  </body>

</html>
